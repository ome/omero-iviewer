<!--
    Copyright (C) 2017 University of Dundee & Open Microscopy Environment.
    All rights reserved.

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU Affero General Public License as
    published by the Free Software Foundation, either version 3 of the
    License, or (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Affero General Public License for more details.

    You should have received a copy of the GNU Affero General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" style='width: 100%; height: 100%'>

<head>
    <title>OMERO OpenLayers Viewer Plugin</title>
    <script type="text/javascript" src="{% static 'ol3-viewer/js/viewer.js' %}" /></script>
    <link rel="stylesheet" type="text/css" href="{% static 'ol3-viewer/css/all.min.css' %}" />
</head>

<body style='font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;
             font-size:14px; margin: 0px; width: 100%; height: 100%'>

    <div id="ome-viewer" style="width: 100%; height: 100%"></div>

    <script type="text/javascript">
        var Viewer = openlayers_viewer.default;
        var p = {};
        {% for key, value in params.items %}
            p['{{key}}'] = "{{value}}";
        {% endfor %}
            var viewer = ((function() {
                var _viewerInstance = new Viewer(
                {{ image_id }},{initParams : p});
                return function() {
                    return _viewerInstance;
            }
        })())();
    </script>

</body>
</html>
