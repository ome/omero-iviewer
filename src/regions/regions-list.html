<template>
    <hr style="float: left;" />
    <div style="min-width: 110px;">
        <span class="collapsible-regions-header">Shape List</span>
        <div click.delegate="toggleRegionsTable()"
            class="regions-list-toggler collapse-up"
            style="margin-right: 5px;">
        </div>
    </div>
    <hr style="float: left;"/>
    <div class="row regions-list">
        <table class="regions-header">
            <thead>
                <tr>
                    <th id="reg-col-0" class="shape-id"><div>ID</div></th>
                    <th id="reg-col-1" class="shape-z"><div>Z</div></th>
                    <th id="reg-col-2" class="shape-t"><div>T</div></th>
                    <th id="reg-col-3" class="shape-type"><div>Type</div></th>
                    <th id="reg-col-4" class="shape-comment"><div>Comment</div></th>
                    <th id="reg-col-5" class="shape-show"><div>Show</div></th>
                </tr>
            </thead>
        </table>
        <table class="regions-table">
            <tbody>
                <tr repeat.for="[id, shape] of regions_info.data"
                    show.bind="!(shape.deleted && shape.is_new)"
                    id="${'roi-' + id}"
                    css="${shape.selected ?
                            'background-color: #d0d0ff;' : ''}
                            ${shape.deleted ? 'color: red;' :
                                (shape.modified ? 'color: blue;' : '')}"
                    click.delegate="selectShape(id, shape.selected, $event)">
                    <td class="shape-id"><div>${shape.id}</div></td>
                    <td class="shape-z"><div>
                        ${shape.theZ !== -1 ? (shape.theZ + 1) : ""}</div></td>
                    <td class="shape-t"><div>
                        ${shape.theT !== -1 ? (shape.theT + 1) : ""}</div></td>
                    <td class="shape-type ${shape.type.toLowerCase()}-icon">&nbsp;</td>
                    <td class="shape-comment"><div>
                        ${shape.textValue ? shape.textValue : '&nbsp;'}</div></td>
                    <td class="shape-show">
                        <input type="checkbox" checked.bind="shape.visible"
                            change.delegate="toggleShapeVisibility(id, shape.visible)"/>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</template>
